# Lazy Class Code Smell

## a) ความหมายของ code smell นี้

**Lazy Class** คือ code smell ประเภทหนึ่งที่เกิดจากการมีคลาส (Class) ที่แทบไม่ทำงานอะไรเลย มีฟังก์ชัน (methods) น้อยมาก มี logic น้อย หรือไม่มีความรับผิดชอบ (responsibility) ที่ชัดเจน

กล่าวง่าย ๆ คือเป็นคลาสที่ "ขี้เกียจทำงาน" (lazy) เพราะมันไม่ได้เพิ่มคุณค่าให้กับระบบ แต่กลับเพิ่มความซับซ้อนของโครงสร้างโปรแกรมแทน

ลักษณะสำคัญ:

* มี method น้อยมาก
* ไม่มี business logic สำคัญ
* ทำหน้าที่แค่เป็นตัวกลาง (wrapper) โดยไม่จำเป็น
* มีอยู่เพราะโครงสร้างเดิม ไม่ใช่เพราะความจำเป็นจริง

---

## b) ตัวอย่างโค้ดที่เกิด Lazy Class

```java
// Lazy Class
class UserInfo {
    private String name;

    public UserInfo(String name) {
        this.name = name;
    }

    public String getName() {
        return name;
    }
}

class UserService {
    public void printUserName() {
        UserInfo user = new UserInfo("James");
        System.out.println(user.getName());
    }
}
```

**ปัญหา:**

* `UserInfo` มีแค่ตัวแปรเดียว
* มีแค่ constructor กับ getter
* ไม่มี logic ใด ๆ
* ไม่มีความจำเป็นต้องแยกเป็น class

---

## c) ตัวอย่างโค้ดที่ refactoring แล้ว

### วิธีแก้: รวม class เข้าด้วยกัน (Inline Class)

```java
class UserService {
    public void printUserName() {
        String name = "James";
        System.out.println(name);
    }
}
```

หรือถ้าจำเป็นต้องมีโครงสร้าง User จริง ๆ:

```java
class User {
    private String name;

    public User(String name) {
        this.name = name;
    }

    public void printName() {
        System.out.println(name);
    }
}
```

**ข้อดีหลัง refactor:**

* ลดจำนวน class ที่ไม่จำเป็น
* โครงสร้างโปรแกรมชัดเจนขึ้น
* ลดความซับซ้อน
* Maintenance ง่ายขึ้น

---

## d) กรณีที่ Lazy Class *ไม่ถือว่าเป็นปัญหา*

Lazy Class **อาจไม่ใช่ปัญหา** ในบางกรณี เช่น:

### 1) ออกแบบเพื่ออนาคต (Future Expansion)

```java
class PaymentInfo {
    private String cardNumber;
}
```

> อนาคตอาจมี logic การ validate, encrypt, tokenize เพิ่มเข้ามา

---

### 2) เป็น DTO / Model สำหรับส่งข้อมูล (Data Transfer Object)

```java
class UserDTO {
    public String name;
    public String email;
}
```

> ใช้แค่ส่งข้อมูลระหว่าง layer (Controller → Service → API)

---

### 3) ใช้กับ Framework / ORM

```java
@Entity
class UserEntity {
    @Id
    private int id;
    private String name;
}
```

> จำเป็นต้องมี class เพื่อ mapping database

---

### 4) เป็น part ของ clean architecture

> แยก domain / model / entity เพื่อความชัดเจนของโครงสร้างระบบ

---
